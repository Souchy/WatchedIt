// movie-mini {
// 	display: block;

// 	.info-flip {
// 		display: none;
// 	}

// 	&:hover {
// 		.info-flip {
// 			display: block;
// 		}
// 	}
// }

// Nested SCSS for a custom element <movie-mini>
// Assumes HTML structure inside/around the element similar to:
// <ul class="movie-list">
//   <movie-mini>
//     <article class="movie-card"> ... </article>
//   </movie-mini>
// </ul>
//
// If movie-mini uses Shadow DOM, put these styles inside the component's stylesheet instead
// or expose CSS custom properties / parts.

/* Root custom element styling and nested rules */
movie-mini {
	display: block; // ensure it behaves like a block/grid item


	i {
		font-size: 1rem;
		/* icon size */
		color: red;
		/* icon color */

		font-family: "Flaticon-Regular" !important;
		font-size: 20px;
		/* Match the desired size */
		color: black;
		/* Ensure visibility */
	}

	article {
		position: relative;
		background: var(--card-bg);
		border-radius: var(--card-radius);
		box-shadow: var(--card-shadow);
		overflow: hidden;
		display: flex;
		flex-direction: column;
		height: 100%;
		color: var(--text-color);

		a {
			display: block;
			color: inherit;
			text-decoration: none;
			outline: none;

			figure {
				position: relative;
				margin: 0;
				width: 100%;
				aspect-ratio: 2 / 3;
				overflow: hidden;
				// background: #e9e9ef;

				img {
					width: 100%;
					height: 100%;
					display: block;
					object-fit: cover;
					object-position: center;
					user-select: none;
					transition: transform calc(var(--transition-fast) * 1.2) ease;
				}

				.info-flip {
					position: absolute;
					inset: 0;
					display: flex;
					flex-direction: column;
					// justify-content: flex-end; // changed
					padding: 0.75rem;
					background: var(--overlay-gradient);
					opacity: 0;
					transform: translateY(16px);
					transition: opacity var(--transition-fast) ease, transform var(--transition-fast) ease;
					pointer-events: none;
					will-change: opacity, transform;

					:first-child {
						margin-top: 4rem;
					}

					.genres,
					.release-date {
						color: #d8d8d8;
						font-size: 0.85rem;
						opacity: 0.95;
						margin-bottom: 0.35rem;
						// flex: 1 1 auto;
					}

					.overview {
						margin: 0;
						font-size: 0.9rem;
						line-height: 1.25;
						color: #fff;
						display: -webkit-box;
						// -webkit-line-clamp: 3;
						-webkit-box-orient: vertical;

						// changed
						// flex: 1 1 auto;
						// text-overflow: ellipsis;
						overflow-y: auto;
						word-break: keep-all;
						line-break: strict;

						/* Justify text for a clean block appearance */
						// text-align: justify;
						// text-justify: inter-word;
						padding-right: 0.25rem;


						/* Hide scrollbar for Firefox */
						/* none | auto | thin */
						scrollbar-width: none;
						/* Legacy IE */
						-ms-overflow-style: none;
						padding-bottom: calc(var(--fade-height) + 0.25rem);
					}

					/* Fade mask: visually indicate more content at the bottom.
					   It's positioned inside the overlay and doesn't block pointer events. */
					&::after {
						content: "";
						position: absolute;
						left: 0;
						right: 0;
						bottom: 0;
						padding: 0.75rem;
						height: var(--fade-height);
						pointer-events: none;
						background: var(--fade-gradient);
					}
				}

			}

			section {
				.title {
					margin: 0.6rem 0 0.4rem;
					font-size: 1rem;
					line-height: 1.15;
					// padding: 0;
					color: var(--text-color);
					display: -webkit-box;
					-webkit-line-clamp: 2;
					-webkit-box-orient: vertical;
					overflow: hidden;
					text-overflow: ellipsis;
				}

				.rating {
					color: var(--muted-color);
					font-size: 0.95rem;
					white-space: nowrap;
				}
			}
		}

		.corner-menu {
			display: none;
			// display: flex;
			position: absolute;
			top: 8px;
			left: 8px;
			margin: 0px 8px;
			border-radius: 6px;
			// cursor: pointer;
			font-size: 0.1rem;
			// line-height: 0.5;
			flex-direction: row;
			background-color: black;

			button {
				width: 40px;
				height: 40px;
				background-color: transparent;

				i {
					color: rgb(223, 223, 223);
				}

				i:hover {
					text-shadow: 0 0 1px var(--glow-color),
								 0 0 2px var(--glow-color),
								 0 0 3px var(--glow-color),
								 0 0 5px var(--glow-color),
								 0 0 10px var(--glow-color),
								 0 0 20px var(--glow-color);
				}

				&:hover,
				&:focus-visible {
					// background-color: linear-gradient(180deg, rgba(1, 1, 1, 0.5) 0%, rgba(1, 1, 1, 0.85) 100%);
					// color: #fff;
				}
			}
		}

		a:hover,
		a:focus-visible,
		&:hover,
		&:focus-within {
			.info-flip {
				opacity: 1;
				transform: none;
				pointer-events: auto;
			}

			.corner-menu {
				display: flex;
			}
		}

	}


	// focus styles
	a:focus-visible
	{
		outline: 3px solid Highlight;
		outline-offset: 3px;
		border-radius: 6px;
	}

	// responsive adjustments (nested)
	@media (max-width: 900px) {

		// slightly smaller cards at narrower widths
		// To change column sizing at different breakpoints, you can also override .movie-list grid-template-columns
		.title {
			font-size: 0.98rem;
		}
	}

	@media (max-width: 520px) {
		.title {
			font-size: 0.96rem;
			-webkit-line-clamp: 2;
		}

		.info-flip .overview {
			-webkit-line-clamp: 2;
		}
	}

	@media (prefers-reduced-motion: reduce) {

		img,
		.info-flip {
			transition: none;
			transform: none;
		}
	}
}
